<!DOCTYPE html>
<html>
<head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
</head>

<main id="galeria">
    <h1>Galería de Películas</h1>
    <div class="inner">
        <% imagenes.forEach(imagen => { %>
            <figure>
                <a href="/galeria/<%= imagen.id %>">
                    <img src="<%= imagen.imagen %>" alt="<%= imagen.titulo %>">
                    <figcaption><%= imagen.titulo %></figcaption>
                </a>
            </figure>
        <% }) %>
    </div>

    <% if (pelicula) { %>
        <dialog id="dialogo-pelicula" open>
            <h2><%= pelicula.titulo %></h2>
            <img src="<%= pelicula.imagen %>" alt="<%= pelicula.titulo %>">
            <p><strong>Descripción:</strong> <%= pelicula.descripcion %></p>
            <p><strong>Precio:</strong> $<%= pelicula.precio %></p>
            <p><strong>Género:</strong> <%= pelicula.genero.join(", ") %></p>
            <p><strong>Disponibilidad:</strong> <%= pelicula.disponibilidad ? "Disponible" : "No disponible" %></p>
            <p><strong>Categoría:</strong> <%= pelicula.categoria %></p>
            <button onclick="cerrarDialogo()">Cerrar</button>
        </dialog>
    <% } %>
</main>

<script>
    function cerrarDialogo() {
        document.getElementById("dialogo-pelicula").close();
    }
</script>
    

<footer>
    <%- include ("partials/footer.ejs"); %>
</footer>


</html>
